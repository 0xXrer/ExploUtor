{
  "name": "Luau",
  "scopeName": "source.luau",
  "fileTypes": ["luau", "lua"],
  "patterns": [
    { "include": "#comment" },
    { "include": "#string" },
    { "include": "#number" },
    { "include": "#keyword" },
    { "include": "#exploit-function" },
    { "include": "#function" },
    { "include": "#constant" },
    { "include": "#operator" }
  ],
  "repository": {
    "comment": {
      "patterns": [
        {
          "name": "comment.block.luau",
          "begin": "--\\[\\[",
          "end": "\\]\\]"
        },
        {
          "name": "comment.line.double-dash.luau",
          "match": "--.*$"
        }
      ]
    },
    "string": {
      "patterns": [
        {
          "name": "string.quoted.double.luau",
          "begin": "\"",
          "end": "\"",
          "patterns": [
            {
              "name": "constant.character.escape.luau",
              "match": "\\\\."
            }
          ]
        },
        {
          "name": "string.quoted.single.luau",
          "begin": "'",
          "end": "'",
          "patterns": [
            {
              "name": "constant.character.escape.luau",
              "match": "\\\\."
            }
          ]
        },
        {
          "name": "string.quoted.other.multiline.luau",
          "begin": "\\[\\[",
          "end": "\\]\\]"
        }
      ]
    },
    "number": {
      "patterns": [
        {
          "name": "constant.numeric.hex.luau",
          "match": "\\b0[xX][0-9a-fA-F]+\\b"
        },
        {
          "name": "constant.numeric.binary.luau",
          "match": "\\b0[bB][01]+\\b"
        },
        {
          "name": "constant.numeric.float.luau",
          "match": "\\b[0-9]+\\.[0-9]+([eE][+-]?[0-9]+)?\\b"
        },
        {
          "name": "constant.numeric.integer.luau",
          "match": "\\b[0-9]+\\b"
        }
      ]
    },
    "keyword": {
      "patterns": [
        {
          "name": "keyword.control.luau",
          "match": "\\b(if|then|else|elseif|end|while|do|for|in|repeat|until|break|continue|return)\\b"
        },
        {
          "name": "keyword.other.luau",
          "match": "\\b(function|local|and|or|not)\\b"
        },
        {
          "name": "storage.type.luau",
          "match": "\\b(type|export)\\b"
        }
      ]
    },
    "exploit-function": {
      "patterns": [
        {
          "name": "support.function.exploit.luau",
          "match": "\\b(hookfunction|hookmetamethod|getgenv|getrenv|getfenv|setfenv|setclipboard|setfflag|getfflag|fireclickdetector|fireproximityprompt|getsenv|getcallingscript|getscriptclosure|getscripthash|getscriptbytecode|getloadedmodules|getnilinstances|isreadonly|setreadonly|makewritable|makereadonly|getrawmetatable|setrawmetatable|checkcaller|islclosure|iscclosure|newcclosure|getinfo|debug\\.getinfo|debug\\.getupvalue|debug\\.getupvalues|debug\\.setupvalue|debug\\.setstack|getidentity|setidentity|getthreadidentity|setthreadidentity|syn\\.request|http_request|request|readfile|writefile|appendfile|listfiles|isfile|isfolder|makefolder|delfolder|delfile|loadfile|dofile|getcustomasset|getsynasset|queue_on_teleport|queueonteleport|getconnections|firesignal|decompile|saveinstance|Drawing\\.new|Instance\\.new|cloneref|compareinstances|checkcaller|getnamecallmethod|isexecutorclosure|getgc|is_synapse_function|is_protosmasher_function|pebc_execute|protosmasher_execute|httpget|getobjects|game\\.HttpGet|game\\.GetObjects|getcallbackvalue|getconnections|getcallingscript|getfenv|getidentity|getinstances|getnilinstances|getscriptclosure|getscripts|getrunningscripts|getscriptbytecode|getscripthash|getthreadidentity|identifyexecutor|is_synapse_function|iscclosure|isclosure|isexecutorclosure|islclosure|isourclosure|loadstring|newcclosure|rconsoleclear|rconsolecreate|rconsoledestroy|rconsoleinput|rconsoleprint|rconsolesettitle|setclipboard|setidentity|setthreadidentity|syn\\.crypt\\.base64\\.decode|syn\\.crypt\\.base64\\.encode|syn\\.crypt\\.encrypt|syn\\.crypt\\.decrypt|syn\\.crypt\\.hash|syn\\.request|syn\\.secure_call|syn\\.set_thread_identity|syn\\.get_thread_identity|getnamecallmethod|hookmetamethod|getrawmetatable|setrawmetatable|checkcaller|newlcclosure)\\b"
        }
      ]
    },
    "function": {
      "patterns": [
        {
          "name": "entity.name.function.luau",
          "match": "\\b([a-zA-Z_][a-zA-Z0-9_]*)\\s*(?=\\()"
        },
        {
          "name": "support.function.library.luau",
          "match": "\\b(print|warn|error|assert|select|type|typeof|tonumber|tostring|pairs|ipairs|next|pcall|xpcall|setmetatable|getmetatable|rawget|rawset|rawequal|rawlen|collectgarbage|require|spawn|delay|wait|tick|time|elapsedTime|stats|settings|UserSettings|version)\\b"
        }
      ]
    },
    "constant": {
      "patterns": [
        {
          "name": "constant.language.luau",
          "match": "\\b(true|false|nil)\\b"
        },
        {
          "name": "variable.language.luau",
          "match": "\\b(self|_G|_VERSION|game|workspace|script|shared)\\b"
        }
      ]
    },
    "operator": {
      "patterns": [
        {
          "name": "keyword.operator.luau",
          "match": "(\\+|\\-|\\*|\\/|%|\\^|#|==|~=|<=|>=|<|>|=|\\.\\.)"
        }
      ]
    }
  }
}
